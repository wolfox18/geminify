# Geminify Bot ü§ñüé∂

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –ø–ª–µ–π–ª–∏—Å—Ç—ã –≤ Spotify –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –º–æ—â—å Google Gemini API.

–•–æ—Ç–∏—Ç–µ –ø–ª–µ–π–ª–∏—Å—Ç –¥–ª—è "–ø—Ä–æ–±–µ–∂–∫–∏ –¥–æ–∂–¥–ª–∏–≤—ã–º —É—Ç—Ä–æ–º" –∏–ª–∏ "–≤–µ—á–µ—Ä–∏–Ω–∫–∏ –≤ —Å—Ç–∏–ª–µ –¥–∏—Å–∫–æ-—Ñ–∞–Ω–∫"? –ü—Ä–æ—Å—Ç–æ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –±–æ—Ç–∞, –∏ –æ–Ω —Å–æ–±–µ—Ä—ë—Ç –µ–≥–æ –¥–ª—è –≤–∞—Å!

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é**: –û–ø–∏—à–∏—Ç–µ, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ, –∏ –ò–ò –ø–æ–¥–±–µ—Ä—ë—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç—Ä–µ–∫–∏.
-   **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ Spotify**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç, –æ—á–∏—â–∞–µ—Ç –∏ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç –ø–ª–µ–π–ª–∏—Å—Ç –≤ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ.
-   **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ (–º–æ–¥–µ–ª—å, —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞) –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ —Ñ–∞–π–ª `prompt_config.json` –¥–ª—è –ª—ë–≥–∫–æ–≥–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
-   **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–≥–æ –æ—Ç–±–æ—Ä–∞ –ø–µ—Å–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã –¥–∞–∂–µ –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã.
-   **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π**: –í—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `.env` –∏ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫–æ–¥.

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

-   Python 3.10+
-   [python-telegram-bot](http://googleusercontent.com/github.com/1) - –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram API.
-   [google-generativeai](http://googleusercontent.com/github.com/2) - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Gemini API.
-   [httpx](http://googleusercontent.com/github.com/3) - –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Spotify API.
-   [python-dotenv](http://googleusercontent.com/github.com/4) - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –±–æ—Ç–∞.

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–µ–±–µ.

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å —Å–∏—Å—Ç–µ–º—É.

```bash
# –°–æ–∑–¥–∞—ë–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –µ–≥–æ
# –î–ª—è Windows:
# venv\Scripts\activate
# –î–ª—è macOS/Linux:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
pip install -r requirements.txt
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API-–∫–ª—é—á–µ–π –∏ —Ç–æ–∫–µ–Ω–æ–≤

–≠—Ç–æ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π —à–∞–≥. –í–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –∫–ª—é—á–∏ –æ—Ç —Ç—Ä—ë—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

1.  **Telegram**:
    -   –ù–∞–π–¥–∏—Ç–µ –≤ Telegram –±–æ—Ç–∞ `BotFather`.
    -   –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `/newbot`.
    -   –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π **—Ç–æ–∫–µ–Ω**.

2.  **Google Gemini**:
    -   –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google AI Studio](https://aistudio.google.com/app/apikey).
    -   –ù–∞–∂–º–∏—Ç–µ "Create API key" –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π **–∫–ª—é—á API**.

3.  **Spotify**:
    -   –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Spotify Developer Dashboard](https://developer.spotify.com/dashboard/).
    -   –ù–∞–∂–º–∏—Ç–µ "Create an app", –≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–µ –∏–º—è.
    -   –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **Client ID** –∏ **Client Secret**.
    -   –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Settings) –≤ –ø–æ–ª–µ "Redirect URIs" –¥–æ–±–∞–≤—å—Ç–µ `https://www.google.com/` –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`**:
    -   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `env.example` (–µ—Å–ª–∏ –≤—ã –µ–≥–æ —Å–æ–∑–¥–∞–ª–∏) –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
    -   –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏. **`SPOTIFY_PLAYLIST_ID` –ø–æ–∫–∞ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º.**

    ```ini
    # .env
    TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_TELEGRAM
    ALLOWED_TELEGRAM_IDS=–í–ê–®_ID_–í_TELEGRAM
    GEMINI_API_KEY=–í–ê–®_–ö–õ–Æ–ß_GEMINI

    SPOTIFY_CLIENT_ID=–í–ê–®_CLIENT_ID_SPOTIFY
    SPOTIFY_CLIENT_SECRET=–í–ê–®_CLIENT_SECRET_SPOTIFY
    SPOTIFY_REFRESH_TOKEN=
    SPOTIFY_PLAYLIST_ID=
    ```

2.  **(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–º–ø—Ç**:
    -   –û—Ç–∫—Ä–æ–π—Ç–µ `prompt_config.json` –∏ –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

### 5. –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Spotify

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å "–≤–µ—á–Ω—ã–π" `Refresh Token` –∏ —Å–æ–∑–¥–∞—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç `setup_utils.py`.

1.  **–ü–æ–ª—É—á–∞–µ–º Refresh Token**:
    -   –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: `python setup_utils.py`
    -   –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é `1`.
    -   –°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–∞—Å –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ü–µ—Ä–µ–π–¥–∏—Ç–µ, –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –∏ –¥–∞–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.
    -   –í–∞—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ `google.com`. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª–∏–Ω–Ω—ã–π `code` (–≤—Å—ë, —á—Ç–æ –ø–æ—Å–ª–µ `?code=`).
    -   –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª.
    -   –°–∫—Ä–∏–ø—Ç –Ω–∞–ø–µ—á–∞—Ç–∞–µ—Ç –≤–∞—à **Refresh Token**. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª –≤ –ø–æ–ª–µ `SPOTIFY_REFRESH_TOKEN`.

2.  **–°–æ–∑–¥–∞—ë–º –ø–ª–µ–π–ª–∏—Å—Ç**:
    -   –ï—â—ë —Ä–∞–∑ –∑–∞–ø—É—Å—Ç–∏—Ç–µ: `python setup_utils.py`
    -   –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é `2`.
    -   –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç –≤ –≤–∞—à–µ–º Spotify –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –ø–ª–µ–π–ª–∏—Å—Ç "Geminify" –∏ –Ω–∞–ø–µ—á–∞—Ç–∞–µ—Ç –µ–≥–æ **ID**.
    -   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç ID –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª –≤ –ø–æ–ª–µ `SPOTIFY_PLAYLIST_ID`.

### 6. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

–í—Å—ë –≥–æ—Ç–æ–≤–æ! –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ, –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞.

```bash
python main_bot.py
```

–¢–µ–ø–µ—Ä—å –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –Ω–∞—á–Ω–∏—Ç–µ –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è!